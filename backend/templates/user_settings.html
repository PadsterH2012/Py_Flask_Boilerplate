{% extends "base.html" %}

{% block title %}User Settings{% endblock %}

{% block content %}
    <h1>User Settings</h1>
    <form id="userSettingsForm">
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" value="{{ username }}" required>
        
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" value="{{ email }}" required>
        
        <label for="currentPassword">Current Password:</label>
        <input type="password" id="currentPassword" name="currentPassword" required>
        
        <label for="newPassword">New Password:</label>
        <input type="password" id="newPassword" name="newPassword">
        
        <label for="confirmNewPassword">Confirm New Password:</label>
        <input type="password" id="confirmNewPassword" name="confirmNewPassword">
        
        <button type="submit">Save Changes</button>
    </form>

    <script>
    document.getElementById('userSettingsForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const username = document.getElementById('username').value;
        const email = document.getElementById('email').value;
        const currentPassword = document.getElementById('currentPassword').value;
        const newPassword = document.getElementById('newPassword').value;
        const confirmNewPassword = document.getElementById('confirmNewPassword').value;
        
        if (newPassword !== confirmNewPassword) {
            alert('New passwords do not match!');
            return;
        }
        
        // Add logic to send updated user settings to the server
        console.log('Sending updated user settings to server...');
        // You would typically use fetch() here to send the data to the server
        // For now, we'll just log the values
        console.log('Username:', username);
        console.log('Email:', email);
        console.log('Current Password:', currentPassword);
        console.log('New Password:', newPassword);
        
        alert('Settings update functionality not fully implemented yet.');
    });
    </script>
{% endblock %}
